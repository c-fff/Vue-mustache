<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>mustache</title>

</head>
<body>
<div id="container">

</div>
</body>
<script src="../js/mustache.js"></script>
<script>
    var templateStr = `
        <h1>我买了一棵{{thing}},花了{{money}}元，好{{mood}}</h1>
    `;

    var data = {
        thing:"白菜",
        money:5,
        mood:"激动"
    };
    /*最简单模板引擎实现机理，利用的是正则表达式中的replace()方法
    * replace()的第二个参数可以是一个函数，这个函数提供捕获的东西的参数就是$1
    * 结合data对象，即可进行智能的替换
    * (\w+)加圆括号是为了捕获圆括号里面的文字
    * findStr是你查找的这部分内容{{thing}}、{{money}}、{{mood}}
    * $1是你捕获到的内容thing、money、mood
    * */

    function render(templateStr,data){
        return templateStr.replace(/\{\{(\w+)\}\}/g,function (findStr,$1) {
            console.log($1);
            return data[$1];
        })
    };

    var domStr = render(templateStr,data);
    var dom = document.getElementById("container");
    dom.innerHTML = domStr;
    console.log(domStr);
</script>
</html>